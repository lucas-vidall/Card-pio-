<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Vidal Burgers â€” CardÃ¡pio Interativo</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
Â  :root{
Â  Â  --orange:#ff7b00;
Â  Â  --orange-dark:#e36f00;
Â  Â  --bg:#fff8f0;
Â  Â  --card:#ffffff;
Â  Â  --muted:#6b6b6b;
Â  Â  --success:#1b9a45;
Â  Â  --danger:#e74c3c;
Â  Â  --shadow: 0 6px 20px rgba(0,0,0,0.08);
Â  Â  --radius:14px;
Â  }
Â  *{box-sizing:border-box}
Â  body{
Â  Â  margin:0;
Â  Â  font-family: 'Inter', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
Â  Â  background:linear-gradient(180deg,#fffaf6 0%,var(--bg) 100%);
Â  Â  color:#222;
Â  Â  -webkit-font-smoothing:antialiased;
Â  Â  -moz-osx-font-smoothing:grayscale;
Â  }

Â  header{
Â  Â  background:linear-gradient(90deg,var(--orange),var(--orange-dark));
Â  Â  color:white;
Â  Â  padding:18px 16px;
Â  Â  display:flex;
Â  Â  align-items:center;
Â  Â  gap:12px;
Â  Â  justify-content:space-between;
Â  }
Â  header h1{margin:0;font-size:18px;font-weight:700;display:flex;align-items:center;gap:8px}
Â  header small{opacity:0.95;font-weight:500}

Â  .wrap{
Â  Â  max-width:1100px;
Â  Â  margin:18px auto;
Â  Â  padding:0 16px 80px;
Â  }

Â  .grid{
Â  Â  display:grid;
Â  Â  grid-template-columns: 1fr 380px;
Â  Â  gap:18px;
Â  }

Â  /* left column: items */
Â  .menu {
Â  Â  display:grid;
Â  Â  grid-template-columns:repeat(auto-fill,minmax(240px,1fr));
Â  Â  gap:14px;
Â  }
Â  .card{
Â  Â  background:var(--card);
Â  Â  border-radius:var(--radius);
Â  Â  padding:14px;
Â  Â  box-shadow:var(--shadow);
Â  Â  border:1px solid rgba(0,0,0,0.03);
Â  }
Â  .card h3{margin:0;color:var(--orange);font-size:16px}
Â  .card p{margin:8px 0 12px;color:var(--muted);font-size:13px;line-height:1.3}
Â  .price{font-weight:700;color:#222;margin-bottom:8px}
Â  .card .btn-row{display:flex;gap:8px;align-items:center;justify-content:space-between}
Â  .btn{
Â  Â  background:var(--orange);
Â  Â  color:white;border:none;padding:8px 12px;border-radius:10px;font-weight:600;cursor:pointer;
Â  Â  box-shadow:0 4px 10px rgba(255,123,0,0.15);
Â  }
Â  .btn:active{transform:translateY(1px)}
Â  .qty{
Â  Â  display:inline-flex;
Â  Â  align-items:center;
Â  Â  gap:6px;
Â  Â  background:#fff;
Â  Â  border-radius:10px;
Â  Â  padding:4px;
Â  Â  border:1px solid #eee;
Â  }
Â  .qty button{background:transparent;border:none;cursor:pointer;font-weight:700;padding:6px}

Â  /* right column: checkout */
Â  .checkout{
Â  Â  position:sticky;
Â  Â  top:18px;
Â  Â  align-self:start;
Â  Â  display:flex;
Â  Â  flex-direction:column;
Â  Â  gap:12px;
Â  }
Â  .summary{
Â  Â  background:var(--card);
Â  Â  border-radius:var(--radius);
Â  Â  padding:14px;
Â  Â  box-shadow:var(--shadow);
Â  Â  border:1px solid rgba(0,0,0,0.03);
Â  }
Â  .summary h2{margin:0;font-size:16px;color:#333}
Â  #cartList{margin:12px 0 0;padding:0;list-style:none;max-height:220px;overflow:auto}
Â  #cartList li{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px dashed #f0f0f0;font-size:14px}
Â  .cart-actions{display:flex;gap:8px;margin-top:10px}

Â  label{display:block;font-size:13px;color:#444;margin-bottom:6px}
Â  input[type="text"], input[type="number"], select, textarea{
Â  Â  width:100%;
Â  Â  padding:8px 10px;border-radius:10px;border:1px solid #eee;background:#fff;font-size:14px;
Â  }
Â  .row{display:flex;gap:8px}
Â  .row > *{flex:1}

Â  .muted{color:var(--muted);font-size:13px}
Â  .hint{font-size:13px;color:#666;margin-top:6px}

Â  .actions{display:flex;gap:8px;margin-top:12px}
Â  .secondary{background:#fff;border:1px solid #eee;color:#333;padding:9px;border-radius:10px;cursor:pointer}
Â  .danger{background:var(--danger);color:white;border:none;padding:9px;border-radius:10px;cursor:pointer}

Â  .open-badge{
Â  Â  display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;background:rgba(27,154,69,0.12);color:var(--success);font-weight:600;font-size:13px;
Â  }
Â  .closed-badge{
Â  Â  display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;background:rgba(231,76,60,0.08);color:var(--danger);font-weight:700;font-size:13px;
Â  }

Â  .small{font-size:12px;color:#666}
Â  footer{max-width:1100px;margin:20px auto 60px;padding:0 16px;color:#777;font-size:13px;text-align:center}

Â  /* responsive */
Â  @media (max-width:900px){
Â  Â  .grid{grid-template-columns:1fr}
Â  Â  .checkout{position:relative;top:0}
Â  }
</style>
</head>
<body>

<header>
Â  <div style="display:flex;align-items:center;gap:12px">
Â  Â  <h1>ğŸ” Vidal Burgers</h1>
Â  Â  <small class="small">CardÃ¡pio Interativo</small>
Â  </div>
Â  <div id="statusArea">
Â  Â  Â  </div>
</header>

<main class="wrap">
Â  <div class="grid">

Â  Â  Â  Â  <section>
Â  Â  Â  <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:10px">
Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  <div class="small muted">Como funciona â†’</div>
Â  Â  Â  Â  Â  <div style="font-weight:700">Toque em <span style="color:var(--orange)">Adicionar</span> para montar seu pedido. Use o carrinho Ã  direita para revisar.</div>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div class="small muted" style="text-align:right">
Â  Â  Â  Â  Â  Aberto: Quaâ€“Dom â€¢ 18:00â€“23:00
Â  Â  Â  Â  </div>
Â  Â  Â  </div>

Â  Â  Â  <div class="menu" id="menuList">
Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  </section>

Â  Â  Â  Â  <aside class="checkout">
Â  Â  Â  <div class="summary">
Â  Â  Â  Â  <h2>ğŸ›’ Seu Pedido</h2>
Â  Â  Â  Â  <div id="emptyHint" class="muted" style="margin-top:8px">Nenhum item adicionado. Escolha seus lanches Ã  esquerda â†’</div>
Â  Â  Â  Â  <ul id="cartList" aria-live="polite"></ul>

Â  Â  Â  Â  <div style="margin-top:10px;display:flex;justify-content:space-between;align-items:center">
Â  Â  Â  Â  Â  <div class="muted">Subtotal</div>
Â  Â  Â  Â  Â  <div id="subtotal">R$ 0,00</div>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div style="margin-top:6px;display:flex;justify-content:space-between;align-items:center">
Â  Â  Â  Â  Â  <div class="muted">Taxa de entrega</div>
Â  Â  Â  Â  Â  <div id="deliveryFee">R$ 0,00</div>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <hr style="margin:12px 0;border:none;border-top:1px dashed #f0f0f0">
Â  Â  Â  Â  <div style="display:flex;justify-content:space-between;align-items:center">
Â  Â  Â  Â  Â  <div style="font-weight:700">Total</div>
Â  Â  Â  Â  Â  <div id="total" style="font-weight:700">R$ 0,00</div>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div class="cart-actions" style="margin-top:12px">
Â  Â  Â  Â  Â  <button class="btn" onclick="toggleCheckoutOptions()">â¤µ Finalizar pedido</button>
Â  Â  Â  Â  Â  <button class="secondary" onclick="clearCart()">ğŸ§¹ Limpar carrinho</button>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  <div id="checkoutOptions" style="display:none;margin-top:12px">
Â  Â  Â  Â  Â  <div style="margin-bottom:8px"><label>Entrega ou Retirada?</label>
Â  Â  Â  Â  Â  Â  <div style="display:flex;gap:8px">
Â  Â  Â  Â  Â  Â  Â  <button id="optPickup" class="secondary" style="flex:1" onclick="setDelivery(false)">Retirar no local</button>
Â  Â  Â  Â  Â  Â  Â  <button id="optDelivery" class="secondary" style="flex:1" onclick="setDelivery(true)">Entrega + R$ 10,00</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="hint">Escolha a opÃ§Ã£o de entrega para continuar â†“</div>
Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  <div id="addressBlock" style="display:none;margin-top:10px">
Â  Â  Â  Â  Â  Â  <label>CEP</label>
Â  Â  Â  Â  Â  Â  <div class="row">
Â  Â  Â  Â  Â  Â  Â  <input id="cep" placeholder="Ex: 15025-410" maxlength="9" oninput="handleCepInput(event)">
Â  Â  Â  Â  Â  Â  Â  <button class="btn" style="width:120px;flex:0" onclick="buscarCep()">Buscar</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="hint">Digite o CEP e clique em Buscar para preencher automaticamente</div>

Â  Â  Â  Â  Â  Â  <div style="margin-top:10px" id="addressFields" hidden>
Â  Â  Â  Â  Â  Â  Â  <label>EndereÃ§o</label>
Â  Â  Â  Â  Â  Â  Â  <input id="logradouro" placeholder="Rua">
Â  Â  Â  Â  Â  Â  Â  <div class="row" style="margin-top:8px">
Â  Â  Â  Â  Â  Â  Â  Â  <input id="numero" placeholder="NÃºmero">
Â  Â  Â  Â  Â  Â  Â  Â  <input id="complemento" placeholder="Complemento (opcional)">
Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  <div style="margin-top:8px" class="row">
Â  Â  Â  Â  Â  Â  Â  Â  <input id="bairro" placeholder="Bairro">
Â  Â  Â  Â  Â  Â  Â  Â  <input id="cidade" placeholder="Cidade/UF">
Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  <div style="margin-top:10px">
Â  Â  Â  Â  Â  Â  <label>Forma de pagamento</label>
Â  Â  Â  Â  Â  Â  <select id="paymentMethod" onchange="onPaymentChange()">
Â  Â  Â  Â  Â  Â  Â  <option value="">-- Escolha --</option>
Â  Â  Â  Â  Â  Â  Â  <option value="pix">PIX</option>
Â  Â  Â  Â  Â  Â  Â  <option value="dinheiro">Dinheiro</option>
Â  Â  Â  Â  Â  Â  Â  <option value="cartao">CartÃ£o</option>
Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  <div id="cardOptions" style="display:none;margin-top:8px">
Â  Â  Â  Â  Â  Â  <label>Tipo de pagamento</label>
Â  Â  Â  Â  Â  Â  <div class="row">
Â  Â  Â  Â  Â  Â  Â  <select id="cardType">
Â  Â  Â  Â  Â  Â  Â  Â  <option value="credito">CrÃ©dito</option>
Â  Â  Â  Â  Â  Â  Â  Â  <option value="debito">DÃ©bito</option>
Â  Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  Â  <select id="cardBrand">
Â  Â  Â  Â  Â  Â  Â  Â  <option value="Visa">Visa</option>
Â  Â  Â  Â  Â  Â  Â  Â  <option value="Mastercard">Mastercard</option>
Â  Â  Â  Â  Â  Â  Â  Â  <option value="Elo">Elo</option>
Â  Â  Â  Â  Â  Â  Â  Â  <option value="Hipercard">Hipercard</option>
Â  Â  Â  Â  Â  Â  Â  Â  <option value="Outros">Outros</option>
Â  Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  <div style="margin-top:10px">
Â  Â  Â  Â  Â  Â  <label>ObservaÃ§Ãµes</label>
Â  Â  Â  Â  Â  Â  <textarea id="obs" rows="3" placeholder="Ex.: sem cebola, maionese Ã  parte..."></textarea>
Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  <div style="margin-top:12px;display:flex;gap:8px;align-items:center">
Â  Â  Â  Â  Â  Â  <button class="btn" onclick="sendOrder()">ğŸ“² Enviar pelo WhatsApp</button>
Â  Â  Â  Â  Â  Â  <button class="secondary" onclick="toggleCheckoutOptions()">âœ– Cancelar</button>
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>

Â  Â  Â  </div>

Â  Â  Â  <div style="font-size:13px;color:#666;text-align:center;padding:8px">
Â  Â  Â  Â  <div class="small muted">DÃºvidas? Teste o envio para o nÃºmero do portfÃ³lio.</div>
Â  Â  Â  Â  <div class="hint" style="margin-top:6px">Siga as setas e campos com cuidado â†’</div>
Â  Â  Â  </div>
Â  Â  </aside>

Â  </div>
</main>

<footer>
Â  Desenvolvido por Lucas Vidal â€” CardÃ¡pios digitais interativos. Hospedagem rÃ¡pida via GitHub Pages.
</footer>

<script>
/* ---------- CONFIGURAÃ‡ÃƒO (edite sÃ³ aqui se precisar) ---------- */
const numeroWhatsApp = "5517991213435"; // VIDAL (nÃºmero do portfÃ³lio)
const DELIVERY_FEE = 10.00; // taxa de entrega fixa em R$
const openDays = [3,4,5,6,0]; // Wed(3) Thu(4) Fri(5) Sat(6) Sun(0)
const openHour = 18; // abre Ã s 18:00
const closeHour = 23; // fecha Ã s 23:00 (nÃ£o aceitar novos pedidos apÃ³s 23h)
const currency = new Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' });

/* ---------- ITENS DO CARDÃPIO ---------- */
const itensCardapio = [
Â  { nome: "Egg Burguer", preco: 25.00, descricao:"HambÃºrguer suculento, ovo frito, queijo muÃ§arela, maionese caseira e alface americana." },
Â  { nome: "Cheddar & Bacon", preco: 28.00, descricao:"HambÃºrguer bovino, cheddar cremoso, bacon crocante e molho barbecue no pÃ£o australiano." },
Â  { nome: "Duplo Sabor", preco: 32.00, descricao:"Dois hambÃºrgueres 120g, queijo duplo, cebola caramelizada e maionese defumada." },
Â  { nome: "Veggie Grill", preco: 32.00, descricao:"HambÃºrguer de grÃ£o-de-bico, queijo vegano, alface, tomate e molho de iogurte natural." },
Â  { nome: "ClÃ¡ssico da Casa", preco: 24.00, descricao:"PÃ£o brioche, hambÃºrguer 150g, queijo prato, alface, tomate e maionese especial." },
Â  { nome: "Smash Tradicional", preco: 27.00, descricao:"Dois smash burgers finos, queijo, picles, cebola roxa e molho da casa no pÃ£o macio." }
];

/* ---------- ESTADO ---------- */
let carrinho = {}; // { "Egg Burguer": 2, ... }
let isDelivery = false;

/* ---------- RENDER / INTERAÃ‡ÃƒO ---------- */
function init(){
Â  renderMenu();
Â  updateCartUI();
Â  checkOpenStatus();
Â  // show arrows/hints? we already have hints in UI
}
function renderMenu(){
Â  const menu = document.getElementById('menuList');
Â  menu.innerHTML = "";
Â  itensCardapio.forEach((it, idx) => {
Â  Â  const el = document.createElement('div');
Â  Â  el.className = 'card';
Â  Â  el.innerHTML = `
Â  Â  Â  <h3>${it.nome}</h3>
Â  Â  Â  <p>${it.descricao}</p>
Â  Â  Â  <div class="price">${currency.format(it.preco)}</div>
Â  Â  Â  <div class="btn-row">
Â  Â  Â  Â  <div style="display:flex;align-items:center;gap:8px">
Â  Â  Â  Â  Â  <div class="qty" aria-hidden>
Â  Â  Â  Â  Â  Â  <button onclick="decreaseItem(${idx})">âˆ’</button>
Â  Â  Â  Â  Â  Â  <div id="qty-${idx}" style="min-width:20px;text-align:center">0</div>
Â  Â  Â  Â  Â  Â  <button onclick="increaseItem(${idx})">+</button>
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div style="display:flex;gap:8px;align-items:center">
Â  Â  Â  Â  Â  <button class="btn" onclick="addItemByIndex(${idx})">Adicionar</button>
Â  Â  Â  Â  </div>
Â  Â  Â  </div>
Â  Â  `;
Â  Â  menu.appendChild(el);
Â  });
}
function addItemByIndex(i){
Â  addItem(itensCardapio[i].nome);
Â  increaseQtyBadge(i);
}
function increaseItem(i){
Â  addItem(itensCardapio[i].nome);
Â  increaseQtyBadge(i);
}
function decreaseItem(i){
Â  removeOneItem(itensCardapio[i].nome);
Â  decreaseQtyBadge(i);
}
function increaseQtyBadge(i){
Â  const el = document.getElementById(`qty-${i}`);
Â  if(!el) return;
Â  const curr = parseInt(el.textContent)||0;
Â  el.textContent = curr + 1;
}
function decreaseQtyBadge(i){
Â  const el = document.getElementById(`qty-${i}`);
Â  if(!el) return;
Â  const curr = parseInt(el.textContent)||0;
Â  el.textContent = Math.max(0,curr-1);
}

function addItem(name){
Â  carrinho[name] = (carrinho[name] || 0) + 1;
Â  updateCartUI();
}
function removeOneItem(name){
Â  if(!carrinho[name]) return;
Â  carrinho[name]--;
Â  if(carrinho[name] <= 0) delete carrinho[name];
Â  updateCartUI();
}
function clearCart(){
Â  if(Object.keys(carrinho).length === 0){
Â  Â  alert("O carrinho jÃ¡ estÃ¡ vazio!");
Â  Â  return;
Â  }
Â  if(confirm("Tem certeza que deseja limpar o carrinho?")){
Â  Â  carrinho = {};
Â  Â  // reset qty badges
Â  Â  itensCardapio.forEach((it, idx) => {
Â  Â  Â  const el = document.getElementById(`qty-${idx}`);
Â  Â  Â  if(el) el.textContent = "0";
Â  Â  });
Â  Â  updateCartUI();
Â  }
}

function updateCartUI(){
Â  const list = document.getElementById('cartList');
Â  const emptyHint = document.getElementById('emptyHint');
Â  list.innerHTML = "";
Â  const keys = Object.keys(carrinho);
Â  if(keys.length === 0){
Â  Â  emptyHint.style.display = "block";
Â  } else {
Â  Â  emptyHint.style.display = "none";
Â  }
Â  let subtotal = 0;
Â  keys.forEach(name => {
Â  Â  const qty = carrinho[name];
Â  Â  const item = itensCardapio.find(i=>i.nome===name);
Â  Â  const line = document.createElement('li');
Â  Â  const lineRight = document.createElement('div');
Â  Â  line.style.display = "flex";
Â  Â  line.style.justifyContent = "space-between";
Â  Â  line.style.alignItems = "center";
Â  Â  line.innerHTML = `<div style="max-width:65%"><strong>${name}</strong><div class="small muted">${currency.format(item.preco)} â€¢ x${qty}</div></div>`;
Â  Â  const controls = document.createElement('div');
Â  Â  controls.innerHTML = `
Â  Â  Â  <div style="display:flex;align-items:center;gap:8px">
Â  Â  Â  Â  <button class="secondary" onclick="removeOneItem('${name}')">âˆ’</button>
Â  Â  Â  Â  <div style="min-width:26px;text-align:center">${qty}</div>
Â  Â  Â  Â  <button class="btn" style="padding:6px 8px" onclick="addItem('${name}')">+</button>
Â  Â  Â  Â  <button class="secondary" style="margin-left:8px" onclick="removeAllOf('${name}')">Remover</button>
Â  Â  Â  </div>
Â  Â  `;
Â  Â  line.appendChild(controls);
Â  Â  list.appendChild(line);
Â  Â  subtotal += item.preco * qty;
Â  });
Â  document.getElementById('subtotal').textContent = currency.format(subtotal);
Â  const fee = isDelivery ? DELIVERY_FEE : 0;
Â  document.getElementById('deliveryFee').textContent = currency.format(fee);
Â  document.getElementById('total').textContent = currency.format(subtotal + fee);
}

function removeAllOf(name){
Â  if(carrinho[name]){
Â  Â  delete carrinho[name];
Â  Â  // reset qty badges
Â  Â  itensCardapio.forEach((it, idx) => {
Â  Â  Â  if(it.nome === name){
Â  Â  Â  Â  const el = document.getElementById(`qty-${idx}`);
Â  Â  Â  Â  if(el) el.textContent = "0";
Â  Â  Â  }
Â  Â  });
Â  }
Â  updateCartUI();
}

/* ---------- CHECK OPEN STATUS (CORRIGIDO PARA ESTAR SEMPRE ABERTO) ---------- */
function checkOpenStatus(){
Â  const statusArea = document.getElementById('statusArea');
Â  // AlteraÃ§Ã£o feita aqui para forÃ§ar o status para sempre Aberto:
Â  const open = true;
Â  
Â  if(open){
Â  Â  statusArea.innerHTML = `<div class="open-badge">â— Aberto agora</div>`;
Â  } else {
Â  Â  statusArea.innerHTML = `<div class="closed-badge">â— Fechado no momento</div>`;
Â  }
Â  // A lÃ³gica de bloqueio do botÃ£o de finalizar pedido nÃ£o Ã© mais necessÃ¡ria, pois estÃ¡ sempre aberto.
}

/* ---------- CHECKOUT FLOW ---------- */
function toggleCheckoutOptions(){
Â  const co = document.getElementById('checkoutOptions');
Â  co.style.display = co.style.display === 'none' || co.style.display === '' ? 'block' : 'none';
}
// Essa funÃ§Ã£o duplicada foi removida do cÃ³digo original, mas vou mantÃª-la aqui por consistÃªncia com o que vocÃª enviou:
// function toggleCheckoutOptions(){
// Â  const co = document.getElementById('checkoutOptions');
// Â  co.style.display = co.style.display === 'none' || co.style.display === '' ? 'block' : 'none';
// }


function setDelivery(flag){
Â  isDelivery = flag;
Â  document.getElementById('addressBlock').style.display = flag ? 'block' : 'none';
Â  // update fee
Â  updateCartUI();
Â  // highlight selected
Â  document.getElementById('optDelivery').style.background = flag ? 'var(--orange)' : '#fff';
Â  document.getElementById('optDelivery').style.color = flag ? '#fff' : '#333';
Â  document.getElementById('optPickup').style.background = flag ? '#fff' : 'var(--orange)';
Â  document.getElementById('optPickup').style.color = flag ? '#333' : '#fff';
}

/* ---------- CEP / VIA CEP ---------- */
function handleCepInput(e){
Â  // allow only numbers and hyphen
Â  const v = e.target.value.replace(/[^0-9\-]/g,'');
Â  e.target.value = v;
}
function buscarCep(){
Â  const cepRaw = document.getElementById('cep').value.replace(/\D/g,'');
Â  if(!cepRaw || cepRaw.length !== 8){
Â  Â  alert("Informe um CEP vÃ¡lido (8 dÃ­gitos).");
Â  Â  return;
Â  }
Â  const url = `https://viacep.com.br/ws/${cepRaw}/json/`;
Â  document.getElementById('addressFields').hidden = true;
Â  fetch(url).then(r=>r.json()).then(data=>{
Â  Â  if(data.erro){
Â  Â  Â  alert("CEP nÃ£o encontrado. Preencha o endereÃ§o manualmente.");
Â  Â  Â  return;
Â  Â  }
Â  Â  document.getElementById('logradouro').value = data.logradouro || "";
Â  Â  document.getElementById('bairro').value = data.bairro || "";
Â  Â  document.getElementById('cidade').value = (data.localidade ? data.localidade + " / " : "") + (data.uf || "");
Â  Â  document.getElementById('addressFields').hidden = false;
Â  }).catch(err=>{
Â  Â  alert("Erro ao buscar CEP. Tente novamente.");
Â  Â  console.error(err);
Â  });
}

/* ---------- PAGAMENTO ---------- */
function onPaymentChange(){
Â  const v = document.getElementById('paymentMethod').value;
Â  document.getElementById('cardOptions').style.display = v === 'cartao' ? 'block' : 'none';
}

/* ---------- ENVIAR PEDIDO ---------- */
function sendOrder(){
Â  if(Object.keys(carrinho).length === 0){
Â  Â  alert("Adicione ao menos um item ao pedido.");
Â  Â  return;
Â  }

Â  // validate delivery data if delivery selected
Â  let addressText = "Retirada no estabelecimento";
Â  if(isDelivery){
Â  Â  const cep = document.getElementById('cep').value.trim();
Â  Â  const log = document.getElementById('logradouro').value.trim();
Â  Â  const num = document.getElementById('numero').value.trim();
Â  Â  const comp = document.getElementById('complemento').value.trim();
Â  Â  const bairro = document.getElementById('bairro').value.trim();
Â  Â  const cidade = document.getElementById('cidade').value.trim();
Â  Â  if(!cep || !log || !num || !bairro || !cidade){
Â  Â  Â  alert("Por favor, preencha o CEP e confirme o endereÃ§o (logradouro, nÃºmero, bairro e cidade).");
Â  Â  Â  return;
Â  Â  }
Â  Â  addressText = `${log}, ${num}${comp ? " - " + comp : ""} - ${bairro} - ${cidade} (CEP: ${cep})`;
Â  }

Â  const payment = document.getElementById('paymentMethod').value;
Â  if(!payment){
Â  Â  alert("Escolha a forma de pagamento.");
Â  Â  return;
Â  }
Â  let paymentText = "";
Â  if(payment === 'pix') paymentText = "PIX";
Â  else if(payment === 'dinheiro') paymentText = "Dinheiro";
Â  else if(payment === 'cartao'){
Â  Â  const ct = document.getElementById('cardType').value;
Â  Â  const cb = document.getElementById('cardBrand').value;
Â  Â  paymentText = `CartÃ£o (${ct}) - ${cb}`;
Â  }

Â  const obs = document.getElementById('obs').value.trim();

Â  // build items list and totals
Â  let mensagem = `OlÃ¡! Quero fazer meu pedido para *Vidal Burgers*:%0A%0A`;
Â  let subtotal = 0;
Â  Object.keys(carrinho).forEach(name=>{
Â  Â  const qty = carrinho[name];
Â  Â  const item = itensCardapio.find(i=>i.nome===name);
Â  Â  mensagem += `- ${name} x${qty} (${currency.format(item.preco)} cada)%0A`;
Â  Â  subtotal += item.preco * qty;
Â  });
Â  const fee = isDelivery ? DELIVERY_FEE : 0;
Â  const total = subtotal + fee;
Â  mensagem += `%0A*Entrega:* ${isDelivery ? addressText : "Retirar no estabelecimento"}%0A`;
Â  if(isDelivery) mensagem += `*Taxa de entrega:* ${currency.format(fee)}%0A`;
Â  mensagem += `*Pagamento:* ${paymentText}%0A`;
Â  if(obs) mensagem += `*ObservaÃ§Ãµes:* ${obs}%0A`;
Â  mensagem += `%0A*Subtotal:* ${currency.format(subtotal)}%0A`;
Â  if(isDelivery) mensagem += `*Total:* ${currency.format(total)}%0A`;
Â  mensagem += `%0AObrigado(a)! ğŸ˜Š`;

Â  const link = `https://wa.me/${numeroWhatsApp}?text=${encodeURIComponent(decodeURIComponent(mensagem))}`;
Â  window.open(link, '_blank');
}

/* ---------- util ---------- */
function formatCurrency(n){ return currency.format(n); }

/* ---------- init ---------- */
init();

</script>
</body>
</html>
